
@{
    var pageTitle = "Dashboard";
    var addUserLink = "";
    var addCourseLink = "";
    var addLectureLink = "";
    var addQuestionLink = "";
    var logoutLink = "/logout.cshtml";
    var redirectLogin = "~/login.cshtml";
    bool admin = false;

    if (Session["id"] != null) {

        addCourseLink = "/addcourse.cshtml";
        addLectureLink = "/addlecture.cshtml";
        addQuestionLink = "/addquestion.cshtml";
        int userId = (int)(Session["id"]);
        var db = Database.Open("102547-concepttest");
        var checkIfAdmin = db.QueryValue("SELECT COUNT(*) FROM T_Admin WHERE userid = @0", userId);
        if (checkIfAdmin != 0) {
            addUserLink = "/adduser.cshtml";
            admin = true;
        }
    }
    else {
        Response.Redirect(redirectLogin);
    }
}

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>@pageTitle</title>
    </head>
    <body>
        <a href="@addCourseLink">Add Course</a>
        <br/>
        <a href="@addLectureLink">Add Lecture</a>
        <br/>
        <a href="@addQuestionLink">Add Question</a>

        @{ 
            if (admin == true) {
                <br/>
                <a href="@addUserLink">Add User</a>
            }
        }
        <br/>
        <a href="@logoutLink">Logout</a>

        
        
    </body>
</html>
